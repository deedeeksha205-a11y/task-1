<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tic Tac Toe</title>

<style>
body{
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg,#667eea,#764ba2);
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    margin:0;
    color:white;
}

.container{
    text-align:center;
}

h1{
    margin-bottom:10px;
}

.board{
    display:grid;
    grid-template-columns: repeat(3,100px);
    gap:10px;
    margin:20px auto;
}

.cell{
    width:100px;
    height:100px;
    background:white;
    color:black;
    font-size:40px;
    display:flex;
    justify-content:center;
    align-items:center;
    cursor:pointer;
    border-radius:10px;
}

.cell:hover{
    background:#ddd;
}

button{
    padding:10px 15px;
    border:none;
    border-radius:6px;
    cursor:pointer;
    font-weight:bold;
    margin:5px;
}

.reset{ background:#ff4757; color:white; }
.mode{ background:#1e90ff; color:white; }

#status{
    font-size:20px;
    margin-top:10px;
}
</style>

</head>
<body>

<div class="container">
    <h1>Tic Tac Toe</h1>

    <button class="mode" onclick="setMode('player')">Player vs Player</button>
    <button class="mode" onclick="setMode('ai')">Player vs AI</button>

    <div class="board" id="board"></div>

    <p id="status">Player X's Turn</p>

    <button class="reset" onclick="resetGame()">Reset Game</button>
</div>

<script>
let board = ["","","","","","","","",""];
let currentPlayer = "X";
let gameActive = true;
let mode = "player";

const winPatterns = [
    [0,1,2],[3,4,5],[6,7,8],
    [0,3,6],[1,4,7],[2,5,8],
    [0,4,8],[2,4,6]
];

const boardElement = document.getElementById("board");

function createBoard(){
    boardElement.innerHTML="";
    board.forEach((cell,index)=>{
        let div = document.createElement("div");
        div.classList.add("cell");
        div.innerText = cell;
        div.addEventListener("click",()=>handleClick(index));
        boardElement.appendChild(div);
    });
}

function handleClick(index){
    if(board[index] !== "" || !gameActive) return;

    board[index] = currentPlayer;
    createBoard();
    checkWinner();

    if(mode === "ai" && currentPlayer === "O" && gameActive){
        setTimeout(aiMove,500);
    }
}

function aiMove(){
    let emptyCells = board.map((val,i)=> val==="" ? i : null).filter(v=>v!==null);
    let randomIndex = emptyCells[Math.floor(Math.random()*emptyCells.length)];
    board[randomIndex] = "O";
    createBoard();
    checkWinner();
}

function checkWinner(){
    for(let pattern of winPatterns){
        let [a,b,c] = pattern;

        if(board[a] && board[a] === board[b] && board[a] === board[c]){
            document.getElementById("status").innerText = `Player ${board[a]} Wins!`;
            gameActive = false;
            return;
        }
    }

    if(!board.includes("")){
        document.getElementById("status").innerText = "It's a Draw!";
        gameActive = false;
        return;
    }

    currentPlayer = currentPlayer === "X" ? "O" : "X";
    document.getElementById("status").innerText = `Player ${currentPlayer}'s Turn`;
}

function resetGame(){
    board = ["","","","","","","","",""];
    currentPlayer = "X";
    gameActive = true;
    document.getElementById("status").innerText = "Player X's Turn";
    createBoard();
}

function setMode(selectedMode){
    mode = selectedMode;
    resetGame();
}

createBoard();
</script>

</body>
</html>
